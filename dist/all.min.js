function main(){function a(a,b){return a/b}var b=function(){module("Basic WasherDryerMachine Test"),test("Test Object Setup",function(){expect(7);var a=new WashDryCycle;equal(a.getName(),"Custom",'Expected "Custom" as the result, result was: '+a.getName()),equal(a.getWaterLevel(),"waterLevelHigh",'Expected "waterLevelHigh" as the result, result was: '+a.getWaterLevel()),equal(a.getDryTime(),30,"Expected 30 as the result, result was: "+a.getDryTime()),equal(a.getWashTime(),30,"Expected 30 as the result, result was: "+a.getWashTime()),equal(a.getDryTemp(),"dryTempHigh",'Expected "dryTempHigh" as the result, result was: '+a.getDryTemp()),equal(a.getWaterTemp(),"waterTempCold",'Expected "dryTempHigh" as the result, result was: '+a.getWaterTemp()),deepEqual(a.getTimer(),{minutes:a.getDryTime()+a.getWashTime(),seconds:0},"Expected { minutes : 0, seconds : 0 } as the result, result was: "+JSON.stringify(a.getTimer()))}),QUnit.log=function(a,b,c,d){console.log(b+" :: "+c)}}(),c,d,e,f=null,g="off",h=function(){c=soundManager.createSound({id:"washingMachine",url:"sfx/washing-machine-1.mp3",autoLoad:!0,stream:!0}),d=soundManager.createSound({id:"washingMachineFast",url:"sfx/washing-machine-1-fast.mp3",autoLoad:!0,stream:!0}),buzzer=soundManager.createSound({id:"buzzer",url:"sfx/buzzer.mp3",autoLoad:!0,stream:!0}),startUp=soundManager.createSound({id:"startUp",url:"sfx/MacStartUp.mp3",autoLoad:!0,stream:!0}),beep=soundManager.createSound({id:"beep",url:"sfx/beep.mp3",autoLoad:!0,stream:!0})};soundManager.onready(function(){h()}),soundManager.ontimeout(function(){alert("Sounds failed to load")}),$("#touchScreen li").hide(),$("li").addClass("circle"),$("#cycleName, #setWashTime li, #setDryTime li").css("background-image","none");var i=function(a){a==="off"?$("#powerControl").click(function(){try{startUp.play()}catch(b){}$("#touchScreen").css("background-color","#8FB2EB"),$("#touchScreen li").fadeIn(),e=new WashDryCycle,k(),n(),o(),a="on",i(a)}):$("#powerControl").click(function(){$("#touchScreen li,#touchScreen div, p").fadeOut(),$("#touchScreen").css("background-color","#000"),$("li").removeClass("selected"),a="off",i(a)})};i(g);var j=function(){$("#cycleBack").click(function(){try{beep.play()}catch(a){}if(e.getName()==="Custom"){var b=$("#setWashTime li.selected").attr("class").split(" ")[0],c=$("#setDryTime li.selected").attr("class").split(" ")[0],d=$("#setWaterTemp li.selected").attr("id"),f=$("#setWaterLevel li.selected").attr("id"),g=$("#setDryTemp li.selected").attr("id");e.setCustomPreset(b,c,d,f,g)}e.cycleBack(),k(),o()}),$("#cycleForward").click(function(){try{beep.play()}catch(a){}if(e.getName()==="Custom"){var b=$("#setWashTime li.selected").attr("class").split(" ")[0],c=$("#setDryTime li.selected").attr("class").split(" ")[0],d=$("#setWaterTemp li.selected").attr("id"),f=$("#setWaterLevel li.selected").attr("id"),g=$("#setDryTemp li.selected").attr("id");e.setCustomPreset(b,c,d,f,g)}e.cycleForward(),k(),o()})};j();var k=function(){$("li.circle").removeClass("selected"),$("#cycleProgressBar").progressbar({value:0}),$("#"+e.getWaterLevel()).addClass("selected"),$("#"+e.getWaterTemp()).addClass("selected"),$("#"+e.getDryTemp()).addClass("selected"),$("#setDryTime li."+e.getDryTime()).addClass("selected"),$("#setWashTime li."+e.getWashTime()).addClass("selected"),$("#cycleTimer").html("-"+((e.getTimer().minutes<10?"0":"")+e.getTimer().minutes)+":"+((e.getTimer().seconds<10?"0":"")+e.getTimer().seconds)),$("#cycleName").html(e.getName()),$("#dryChoice").css("background-position",$("#"+e.dryTemp).css("background-position")),$("#washChoice").css("background-position",$("#"+e.waterTemp).css("background-position")),$("#powerControl").addClass("selected"),$("#cycleStop").addClass("selected")},l=function(a){$(a).siblings().removeClass("selected"),$(a).addClass("selected")},m=function(){l(this);try{beep.play()}catch(a){}$(this).parent().attr("id")==="setWashTime"||$(this).parent().attr("id")==="setDryTime"?e[$(this).parent().attr("id")]($(this).attr("class").split(" ")[0]):e[$(this).parent().attr("id")]($(this).attr("id")),$(this).parent().attr("id")==="setWaterTemp"?$("#washChoice").css("background-position",$(this).css("background-position")):$(this).parent().attr("id")==="setDryTemp"&&$("#dryChoice").css("background-position",$(this).css("background-position")),$("#cycleTimer").html("-"+e.getTimer().minutes+":"+((e.getTimer().seconds<10?"0":"")+e.getTimer().seconds)),o()},n=function(){$("#setWaterLevel li, #setWashTime li, #setDryTime li, #setWaterTemp li, #setWaterLevel li, #setDryTemp li").click(m),$("#cycleStart").click(function(){l(this),$("#setWaterLevel li, #setWashTime li, #setDryTime li, #setWaterTemp li, #setWaterLevel li, #setDryTemp li, #cycleChoice li").off("click"),e.startWash();try{c.pause===!0?c.resume():c.play({loops:10})}catch(a){}$("#washChoice").css("background-color","#A32500"),f=function(){if(e.getStatus()==="stopped"){try{c.stop(),d.stop(),buzzer.play(1)}catch(a){}clearTimeout(f),$("#cycleTimer").html("DONE")}else{$("#cycleTimer").html("-"+((e.getTimer().minutes<10?"0":"")+e.getTimer().minutes)+":"+((e.getTimer().seconds<10?"0":"")+e.getTimer().seconds));var b=e.getTimer().minutes*60+e.getTimer().seconds,g=(1-b/((e.getWashTime()+e.getDryTime())*60))*100;$("#cycleProgressBar").progressbar({value:g}),g>75&&($("#dryChoice").css("background-color","#A32500"),$("#washChoice").css("background-color","#F7F5FF")),setTimeout(f,1e3)}},f(),o()}),$("#cyclePause").click(function(){c.pause(),l(this),clearTimeout(f),e.pauseWash(),o()}),$("#cycleStop").click(function(){try{c.stop(),d.stop()}catch(a){}l(this),clearTimeout(f),e.stopWash(),$("#setWaterLevel li, #setWashTime li, #setDryTime li, #setWaterTemp li, #setWaterLevel li, #setDryTemp li").click(m),j(),o(),$("#washChoice").css("background-color","#F7F5FF"),$("#dryChoice").css("background-color","#F7F5FF"),$("#cycleControls li").removeClass("selected"),$("#cycleStop").addClass("selected")}),$("#fastForward").mousedown(function(){if(e.getStatus()==="running")try{c.pause(),d.play()}catch(a){}}).mouseup(function(){if(e.getStatus()==="running")try{d.stop(),c.play()}catch(a){}}).mousehold(10,function(a){var b=e.getTimer().minutes,g=e.getTimer().seconds,h,i;if(e.getStatus()==="running"){if(g<=0)if(b>0)h=--b,i=59,e.setTimer(h,i);else{e.stopWash();try{c.stop(),d.stop()}catch(k){}l(this),clearTimeout(f),e.stopWash(),$("#setWaterLevel li, #setWashTime li, #setDryTime li, #setWaterTemp li, #setWaterLevel li, #setDryTemp li").click(m),j(),o(),$("#washChoice").css("background-color","#F7F5FF"),$("#dryChoice").css("background-color","#F7F5FF"),$("#cycleControls li").removeClass("selected"),$("#cycleStop").addClass("selected")}else h=b,i=g-=2,e.setTimer(h,i);$("#cycleTimer").html("-"+((e.getTimer().minutes<10?"0":"")+e.getTimer().minutes)+":"+((e.getTimer().seconds<10?"0":"")+e.getTimer().seconds))}})},o=function(){$("#testInfo").html("washTime : "+e.getWashTime()+"<br />dryTime : "+e.getDryTime()+"<br />waterTemp : "+e.getWaterTemp()+"<br />waterLevel : "+e.getWaterLevel()+"<br />dryTemp : "+e.getDryTemp()+"<br />status : "+e.getStatus())}}jQuery.fn.mousehold=function(a,b){a&&typeof a=="function"&&(b=a,a=100);if(b&&typeof b=="function"){var c=0,d=0;return this.each(function(){jQuery(this).mousedown(function(){d=1;var e=0,g=this;c=setInterval(function(){e++,b.call(g,e),d=2},a)}),clearMousehold=function(){clearInterval(c),d==1&&b.call(this,1),d=0},jQuery(this).mouseout(clearMousehold),jQuery(this).mouseup(clearMousehold)})}},$(main),WashDryCycle=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;i="stopped",j=null,k={minutes:0,seconds:0},l=function(){k.minutes=c+d,k.seconds=0},m=function(){k.seconds===0?k.minutes>0?(k.minutes--,k.seconds=59):(i="stopped",clearTimeout(j)):k.seconds=--k.seconds,j=setTimeout(m,1e3)},h=[{name:"Custom",washTime:30,dryTime:45,waterTemp:"waterTempCold",waterLevel:"waterLevelHigh",dryTemp:"dryTempHigh"},{name:"Whites",washTime:30,dryTime:30,waterTemp:"waterTempHot4",waterLevel:"waterLevelHigh",dryTemp:"dryTempHigh"},{name:"Colors",washTime:45,dryTime:30,waterTemp:"waterTempCold",waterLevel:"waterLevelHigh",dryTemp:"dryTempMedium"}],WashDryCycle.prototype.getName=function(){return b},WashDryCycle.prototype.getWaterLevel=function(){return e},WashDryCycle.prototype.getWaterTemp=function(){return f},WashDryCycle.prototype.getDryTemp=function(){return g},WashDryCycle.prototype.getWashTime=function(){return c},WashDryCycle.prototype.getDryTime=function(){return d},WashDryCycle.prototype.getStatus=function(){return i},WashDryCycle.prototype.getTimer=function(){return k},WashDryCycle.prototype.getPresets=function(){return h},WashDryCycle.prototype.setName=function(a){b=a},WashDryCycle.prototype.setWaterLevel=function(a){e=a},WashDryCycle.prototype.setWaterTemp=function(a){f=a},WashDryCycle.prototype.setDryTemp=function(a){g=a},WashDryCycle.prototype.setWashTime=function(a){c=+a,l()},WashDryCycle.prototype.setDryTime=function(a){d=+a,l()},WashDryCycle.prototype.setStatus=function(a){i=a},WashDryCycle.prototype.setTimer=function(a,b){k.minutes=a,k.seconds=b},WashDryCycle.prototype.setPreset=function(h,i){a=i,b=h.name,c=h.washTime,d=h.dryTime,f=h.waterTemp,e=h.waterLevel,g=h.dryTemp,k.minutes=c+d},WashDryCycle.prototype.setCustomPreset=function(a,b,c,d,e){h[0]={name:"Custom",washTime:Number(a),dryTime:Number(b),waterTemp:c,waterLevel:d,dryTemp:e}},WashDryCycle.prototype.startWash=function(){i="running",i==="stopped"&&(k.minutes=c+d),m()},WashDryCycle.prototype.pauseWash=function(){i="paused",clearTimeout(j)},WashDryCycle.prototype.stopWash=function(){i="stopped",clearTimeout(j),l()},WashDryCycle.prototype.cycleForward=function(){var b=(a+1)%h.length;this.setPreset(h[b],b)},WashDryCycle.prototype.cycleBack=function(){a===0?this.setPreset(h[h.length-1],h.length-1):this.setPreset(h[a-1],a-1)},this.setPreset(h[0],0)},function(a){function h(a){s(this,a),this.assertions=[],this.testNumber=++h.count}function i(){c.autorun=!0,c.currentModule&&w("moduleDone",b,{name:c.currentModule,failed:c.moduleStats.bad,passed:c.moduleStats.all-c.moduleStats.bad,total:c.moduleStats.all});var a,d,e=u("qunit-banner"),f=u("qunit-tests"),h=+(new Date)-c.started,i=c.stats.all-c.stats.bad,j=["Tests completed in ",h," milliseconds.<br/>","<span class='passed'>",i,"</span> tests of <span class='total'>",c.stats.all,"</span> passed, <span class='failed'>",c.stats.bad,"</span> failed."].join("");e&&(e.className=c.stats.bad?"qunit-fail":"qunit-pass"),f&&(u("qunit-testresult").innerHTML=j),c.altertitle&&typeof document!="undefined"&&document.title&&(document.title=[c.stats.bad?"✖":"✔",document.title.replace(/^[\u2714\u2716] /i,"")].join(" "));if(c.reorder&&g.sessionStorage&&c.stats.bad===0)for(a=0;a<sessionStorage.length;a++)d=sessionStorage.key(a++),d.indexOf("qunit-test-")===0&&sessionStorage.removeItem(d);w("done",b,{failed:c.stats.bad,passed:i,total:c.stats.all,runtime:h})}function j(a){var b,d=c.filter,e=a.module+": "+a.testName;return c.testNumber?a.testNumber===c.testNumber:d?(b=d.charAt(0)!=="!",b||(d=d.slice(1)),e.indexOf(d)!==-1?b:!b):!0}function k(a,b){b=b||3;var c;if(a.stacktrace)return a.stacktrace.split("\n")[b+3];if(a.stack)return c=a.stack.split("\n"),/^error$/i.test(c[0])&&c.shift(),c[b];if(a.sourceURL){if(/qunit.js$/.test(a.sourceURL))return;return a.sourceURL+":"+a.line}}function l(a){try{throw new Error}catch(b){return k(b,a)}}function m(a){return a?(a=a+"",a.replace(/[\&<>]/g,function(a){switch(a){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return a}})):""}function n(a,b){c.queue.push(a),c.autorun&&!c.blocking&&o(b)}function o(b){function d(){o(b)}var e=(new Date).getTime();c.depth=c.depth?c.depth+1:1;while(c.queue.length&&!c.blocking)if(!g.setTimeout||c.updateRate<=0||(new Date).getTime()-e<c.updateRate)c.queue.shift()();else{a.setTimeout(d,13);break}c.depth--,b&&!c.blocking&&!c.queue.length&&c.depth===0&&i()}function p(){c.pollution=[];if(c.noglobals)for(var b in a){if(!f.call(a,b)||/^qunit-test-output/.test(b))continue;c.pollution.push(b)}}function q(a){var d,e,f=c.pollution;p(),d=r(c.pollution,f),d.length>0&&b.pushFailure("Introduced global variable(s): "+d.join(", ")),e=r(f,c.pollution),e.length>0&&b.pushFailure("Deleted global variable(s): "+e.join(", "))}function r(a,b){var c,d,e=a.slice();for(c=0;c<e.length;c++)for(d=0;d<b.length;d++)if(e[c]===b[d]){e.splice(c,1),c--;break}return e}function s(b,c){for(var d in c)if(c[d]===undefined)delete b[d];else if(d!=="constructor"||b!==a)b[d]=c[d];return b}function t(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):c()}function u(a){return typeof document!="undefined"&&!!document&&!!document.getElementById&&document.getElementById(a)}function v(a){return function(b){c[a].push(b)}}function w(a,d,e){var f,g;if(b.hasOwnProperty(a))b[a].call(d,e);else{g=c[a];for(f=0;f<g.length;f++)g[f].call(d,e)}}function x(a){var b,c,d="";for(b=0;a[b];b++)c=a[b],c.nodeType===3||c.nodeType===4?d+=c.nodeValue:c.nodeType!==8&&(d+=x(c.childNodes));return d}function y(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1}var b,c,d=0,e=Object.prototype.toString,f=Object.prototype.hasOwnProperty,g={setTimeout:typeof a.setTimeout!="undefined",sessionStorage:function(){var a="qunit-test-string";try{return sessionStorage.setItem(a,a),sessionStorage.removeItem(a),!0}catch(b){return!1}}()};h.count=0,h.prototype={init:function(){var a,c,e,f=u("qunit-tests");f&&(c=document.createElement("strong"),c.innerHTML=this.name,a=document.createElement("a"),a.innerHTML="Rerun",a.href=b.url({testNumber:this.testNumber}),e=document.createElement("li"),e.appendChild(c),e.appendChild(a),e.className="running",e.id=this.id="qunit-test-output"+d++,f.appendChild(e))},setup:function(){this.module!==c.previousModule?(c.previousModule&&w("moduleDone",b,{name:c.previousModule,failed:c.moduleStats.bad,passed:c.moduleStats.all-c.moduleStats.bad,total:c.moduleStats.all}),c.previousModule=this.module,c.moduleStats={all:0,bad:0},w("moduleStart",b,{name:this.module})):c.autorun&&w("moduleStart",b,{name:this.module}),c.current=this,this.testEnvironment=s({setup:function(){},teardown:function(){}},this.moduleTestEnvironment),w("testStart",b,{name:this.testName,module:this.module}),b.current_testEnvironment=this.testEnvironment,c.pollution||p();if(c.notrycatch){this.testEnvironment.setup.call(this.testEnvironment);return}try{this.testEnvironment.setup.call(this.testEnvironment)}catch(a){b.pushFailure("Setup failed on "+this.testName+": "+a.message,k(a,1))}},run:function(){c.current=this;var a=u("qunit-testresult");a&&(a.innerHTML="Running: <br/>"+this.name),this.async&&b.stop();if(c.notrycatch){this.callback.call(this.testEnvironment,b.assert);return}try{this.callback.call(this.testEnvironment,b.assert)}catch(d){b.pushFailure("Died on test #"+(this.assertions.length+1)+": "+d.message,k(d,1)),p(),c.blocking&&b.start()}},teardown:function(){c.current=this;if(c.notrycatch){this.testEnvironment.teardown.call(this.testEnvironment);return}try{this.testEnvironment.teardown.call(this.testEnvironment)}catch(a){b.pushFailure("Teardown failed on "+this.testName+": "+a.message,k(a,1))}q()},finish:function(){c.current=this,this.expected!=null&&this.expected!=this.assertions.length?b.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack):this.expected==null&&!this.assertions.length&&b.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",this.stack);var d,e,f,h,i,j,k=this,l=0,m=0,n=u("qunit-tests");c.stats.all+=this.assertions.length,c.moduleStats.all+=this.assertions.length;if(n){j=document.createElement("ol");for(h=0;h<this.assertions.length;h++)d=this.assertions[h],i=document.createElement("li"),i.className=d.result?"pass":"fail",i.innerHTML=d.message||(d.result?"okay":"failed"),j.appendChild(i),d.result?l++:(m++,c.stats.bad++,c.moduleStats.bad++);b.config.reorder&&g.sessionStorage&&(m?sessionStorage.setItem("qunit-test-"+this.module+"-"+this.testName,m):sessionStorage.removeItem("qunit-test-"+this.module+"-"+this.testName)),m===0&&(j.style.display="none"),f=document.createElement("strong"),f.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+m+"</b>, <b class='passed'>"+l+"</b>, "+this.assertions.length+")</b>",t(f,"click",function(){var a=f.nextSibling.nextSibling,b=a.style.display;a.style.display=b==="none"?"block":"none"}),t(f,"dblclick",function(c){var d=c&&c.target?c.target:a.event.srcElement;if(d.nodeName.toLowerCase()=="span"||d.nodeName.toLowerCase()=="b")d=d.parentNode;a.location&&d.nodeName.toLowerCase()==="strong"&&(a.location=b.url({testNumber:k.testNumber}))}),i=u(this.id),i.className=m?"fail":"pass",i.removeChild(i.firstChild),e=i.firstChild,i.appendChild(f),i.appendChild(e),i.appendChild(j)}else for(h=0;h<this.assertions.length;h++)this.assertions[h].result||(m++,c.stats.bad++,c.moduleStats.bad++);w("testDone",b,{name:this.testName,module:this.module,failed:m,passed:this.assertions.length-m,total:this.assertions.length}),b.reset()},queue:function(){function d(){n(function(){c.setup()}),n(function(){c.run()}),n(function(){c.teardown()}),n(function(){c.finish()})}var a,c=this;n(function(){c.init()}),a=b.config.reorder&&g.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module+"-"+this.testName),a?d():n(d,!0)}},b={module:function(a,b){c.currentModule=a,c.currentModuleTestEnviroment=b},asyncTest:function(a,c,d){arguments.length===2&&(d=c,c=null),b.test(a,c,d,!0)},test:function(a,b,d,e){var f,g="<span class='test-name'>"+m(a)+"</span>";arguments.length===2&&(d=b,b=null),c.currentModule&&(g="<span class='module-name'>"+c.currentModule+"</span>: "+g),f=new h({name:g,testName:a,expected:b,async:e,callback:d,module:c.currentModule,moduleTestEnvironment:c.currentModuleTestEnviroment,stack:l(2)});if(!j(f))return;f.queue()},expect:function(a){c.current.expected=a},start:function(b){c.semaphore-=b||1;if(c.semaphore>0)return;c.semaphore<0&&(c.semaphore=0),g.setTimeout?a.setTimeout(function(){if(c.semaphore>0)return;c.timeout&&clearTimeout(c.timeout),c.blocking=!1,o(!0)},13):(c.blocking=!1,o(!0))},stop:function(d){c.semaphore+=d||1,c.blocking=!0,c.testTimeout&&g.setTimeout&&(clearTimeout(c.timeout),c.timeout=a.setTimeout(function(){b.ok(!1,"Test timed out"),c.semaphore=1,b.start()},c.testTimeout))}},b.assert={ok:function(a,d){if(!c.current)throw new Error("ok() assertion outside test context, was "+l(2));a=!!a;var e,f={result:a,message:d};d=m(d||(a?"okay":"failed")),d="<span class='test-message'>"+d+"</span>",a||(e=l(2),e&&(f.source=e,d+="<table><tr class='test-source'><th>Source: </th><td><pre>"+m(e)+"</pre></td></tr></table>")),w("log",b,f),c.current.assertions.push({result:a,message:d})},equal:function(a,c,d){b.push(c==a,a,c,d)},notEqual:function(a,c,d){b.push(c!=a,a,c,d)},deepEqual:function(a,c,d){b.push(b.equiv(a,c),a,c,d)},notDeepEqual:function(a,c,d){b.push(!b.equiv(a,c),a,c,d)},strictEqual:function(a,c,d){b.push(c===a,a,c,d)},notStrictEqual:function(a,c,d){b.push(c!==a,a,c,d)},raises:function(a,d,e){var f,g=!1;typeof d=="string"&&(e=d,d=null);try{a.call(c.current.testEnvironment)}catch(h){f=h}f&&(d?b.objectType(d)==="regexp"?g=d.test(f):f instanceof d?g=!0:d.call({},f)===!0&&(g=!0):g=!0),b.push(g,f,null,e)}},s(b,b.assert),b.equals=function(){b.push(!1,!1,!1,"QUnit.equals has been deprecated since 2009 (e88049a0), use QUnit.equal instead")},b.same=function(){b.push(!1,!1,!1,"QUnit.same has been deprecated since 2009 (e88049a0), use QUnit.deepEqual instead")},function(){function a(){}a.prototype=b,b=new a,b.constructor=a}(),c={queue:[],blocking:!0,hidepassed:!1,reorder:!0,altertitle:!0,urlConfig:["noglobals","notrycatch"],begin:[],done:[],log:[],testStart:[],testDone:[],moduleStart:[],moduleDone:[]},function(){var d,e=a.location||{search:"",protocol:"file:"},f=e.search.slice(1).split("&"),g=f.length,h={},i;if(f[0])for(d=0;d<g;d++)i=f[d].split("="),i[0]=decodeURIComponent(i[0]),i[1]=i[1]?decodeURIComponent(i[1]):!0,h[i[0]]=i[1];b.urlParams=h,c.filter=h.filter,c.testNumber=parseInt(h.testNumber,10)||null,b.isLocal=e.protocol==="file:"}(),typeof exports=="undefined"&&(s(a,b),a.QUnit=b),s(b,{config:c,init:function(){s(c,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+(new Date),updateRate:1e3,blocking:!1,autostart:!0,autorun:!1,filter:"",queue:[],semaphore:0});var a,b,d,e=u("qunit");e&&(e.innerHTML="<h1 id='qunit-header'>"+m(document.title)+"</h1>"+"<h2 id='qunit-banner'></h2>"+"<div id='qunit-testrunner-toolbar'></div>"+"<h2 id='qunit-userAgent'></h2>"+"<ol id='qunit-tests'></ol>"),a=u("qunit-tests"),b=u("qunit-banner"),d=u("qunit-testresult"),a&&(a.innerHTML=""),b&&(b.className=""),d&&d.parentNode.removeChild(d),a&&(d=document.createElement("p"),d.id="qunit-testresult",d.className="result",a.parentNode.insertBefore(d,a),d.innerHTML="Running...<br/>&nbsp;")},reset:function(){var b;a.jQuery?jQuery("#qunit-fixture").html(c.fixture):(b=u("qunit-fixture"),b&&(b.innerHTML=c.fixture))},triggerEvent:function(a,b,c){document.createEvent?(c=document.createEvent("MouseEvents"),c.initMouseEvent(b,!0,!0,a.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(c)):a.fireEvent&&a.fireEvent("on"+b)},is:function(a,c){return b.objectType(c)==a},objectType:function(a){if(typeof a=="undefined")return"undefined";if(a===null)return"null";var b=e.call(a).match(/^\[object\s(.*)\]$/)[1]||"";switch(b){case"Number":if(isNaN(a))return"nan";return"number";case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return b.toLowerCase()}return typeof a=="object"?"object":undefined},push:function(a,d,e,f){if(!c.current)throw new Error("assertion outside test context, was "+l());var g,h,i={result:a,message:f,actual:d,expected:e};f=m(f)||(a?"okay":"failed"),f="<span class='test-message'>"+f+"</span>",g=f,a||(e=m(b.jsDump.parse(e)),d=m(b.jsDump.parse(d)),g+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+e+"</pre></td></tr>",d!=e&&(g+="<tr class='test-actual'><th>Result: </th><td><pre>"+d+"</pre></td></tr>",g+="<tr class='test-diff'><th>Diff: </th><td><pre>"+b.diff(e,d)+"</pre></td></tr>"),h=l(),h&&(i.source=h,g+="<tr class='test-source'><th>Source: </th><td><pre>"+m(h)+"</pre></td></tr>"),g+="</table>"),w("log",b,i),c.current.assertions.push({result:!!a,message:g})},pushFailure:function(a,d){var e,f={result:!1,message:a};a=m(a)||"error",a="<span class='test-message'>"+a+"</span>",e=a,d&&(f.source=d,e+="<table><tr class='test-source'><th>Source: </th><td><pre>"+m(d)+"</pre></td></tr></table>"),w("log",b,f),c.current.assertions.push({result:!1,message:e})},url:function(c){c=s(s({},b.urlParams),c);var d,e="?";for(d in c){if(!f.call(c,d))continue;e+=encodeURIComponent(d)+"="+encodeURIComponent(c[d])+"&"}return a.location.pathname+e.slice(0,-1)},extend:s,id:u,addEvent:t}),s(b.constructor.prototype,{begin:v("begin"),done:v("done"),log:v("log"),testStart:v("testStart"),testDone:v("testDone"),moduleStart:v("moduleStart"),moduleDone:v("moduleDone")});if(typeof document=="undefined"||document.readyState==="complete")c.autorun=!0;b.load=function(){w("begin",b,{});var d,e,f,h,i,j,k,l,m,n,o="",p=s({},c);b.init(),s(c,p),c.blocking=!1,i=c.urlConfig.length;for(f=0;f<i;f++)n=c.urlConfig[f],c[n]=b.urlParams[n],o+="<label><input name='"+n+"' type='checkbox'"+(c[n]?" checked='checked'":"")+">"+n+"</label>";m=u("qunit-userAgent"),m&&(m.innerHTML=navigator.userAgent),d=u("qunit-header"),d&&(d.innerHTML="<a href='"+b.url({filter:undefined})+"'>"+d.innerHTML+"</a> "+o,t(d,"change",function(c){var d={};d[c.target.name]=c.target.checked?!0:undefined,a.location=b.url(d)})),l=u("qunit-testrunner-toolbar");if(l){e=document.createElement("input"),e.type="checkbox",e.id="qunit-filter-pass",t(e,"click",function(){var a,b=document.getElementById("qunit-tests");e.checked?b.className=b.className+" hidepass":(a=" "+b.className.replace(/[\n\t\r]/g," ")+" ",b.className=a.replace(/ hidepass /," ")),g.sessionStorage&&(e.checked?sessionStorage.setItem("qunit-filter-passed-tests","true"):sessionStorage.removeItem("qunit-filter-passed-tests"))});if(c.hidepassed||g.sessionStorage&&sessionStorage.getItem("qunit-filter-passed-tests"))e.checked=!0,k=document.getElementById("qunit-tests"),k.className=k.className+" hidepass";l.appendChild(e),h=document.createElement("label"),h.setAttribute("for","qunit-filter-pass"),h.innerHTML="Hide passed tests",l.appendChild(h)}j=u("qunit-fixture"),j&&(c.fixture=j.innerHTML),c.autostart&&b.start()},t(a,"load",b.load),a.onerror=function(a,c,d){b.config.current?b.pushFailure(a,c+":"+d):b.test("global failure",function(){b.pushFailure(a,c+":"+d)})},b.equiv=function(){function a(a,c,d){var e=b.objectType(a);if(e)return b.objectType(c[e])==="function"?c[e].apply(c,d):c[e]}var c,d=[],e=[],f=Object.getPrototypeOf||function(a){return a.__proto__},g=function(){function a(a,b){return a instanceof b.constructor||b instanceof a.constructor?b==a:b===a}return{string:a,"boolean":a,number:a,"null":a,"undefined":a,nan:function(a){return isNaN(a)},date:function(a,c){return b.objectType(a)==="date"&&c.valueOf()===a.valueOf()},regexp:function(a,c){return b.objectType(a)==="regexp"&&c.source===a.source&&c.global===a.global&&c.ignoreCase===a.ignoreCase&&c.multiline===a.multiline},"function":function(){var a=d[d.length-1];return a!==Object&&typeof a!="undefined"},array:function(a,d){var f,g,h,i;if(b.objectType(a)!=="array")return!1;h=d.length;if(h!==a.length)return!1;e.push(d);for(f=0;f<h;f++){i=!1;for(g=0;g<e.length;g++)e[g]===d[f]&&(i=!0);if(!i&&!c(d[f],a[f]))return e.pop(),!1}return e.pop(),!0},object:function(a,b){var g,h,i,j=!0,k=[],l=[];if(b.constructor===a.constructor||f(b)===null&&f(a)===Object.prototype||f(a)===null&&f(b)===Object.prototype){d.push(b.constructor),e.push(b);for(g in b){i=!1;for(h=0;h<e.length;h++)e[h]===b[g]&&(i=!0);k.push(g);if(!i&&!c(b[g],a[g])){j=!1;break}}d.pop(),e.pop();for(g in a)l.push(g);return j&&c(k.sort(),l.sort())}return!1}}}();return c=function(){var c=[].slice.apply(arguments);return c.length<2?!0:function(c,d){return c===d?!0:c===null||d===null||typeof c=="undefined"||typeof d=="undefined"||b.objectType(c)!==b.objectType(d)?!1:a(c,g,[d,c])}(c[0],c[1])&&arguments.callee.apply(this,c.splice(1,c.length-1))},c}(),b.jsDump=function(){function a(a){return'"'+a.toString().replace(/"/g,'\\"')+'"'}function c(a){return a+""}function d(a,b,c){var d=h.separator(),e=h.indent(),f=h.indent(1);return b.join&&(b=b.join(","+d+f)),b?[a,f+b,e+c].join(d):a+c}function f(a,b){var c=a.length,e=new Array(c);this.up();while(c--)e[c]=this.parse(a[c],undefined,b);return this.down(),d("[",e,"]")}var g=/^function (\w+)/,h={parse:function(a,b,c){c=c||[];var d,e,f=this.parsers[b||this.typeOf(a)];return b=typeof f,d=y(a,c),d!=-1?"recursion("+(d-c.length)+")":b=="function"?(c.push(a),e=f.call(this,a,c),c.pop(),e):b=="string"?f:this.parsers.error},typeOf:function(a){var c;return a===null?c="null":typeof a=="undefined"?c="undefined":b.is("RegExp",a)?c="regexp":b.is("Date",a)?c="date":b.is("Function",a)?c="function":typeof a.setInterval!==undefined&&typeof a.document!="undefined"&&typeof a.nodeType=="undefined"?c="window":a.nodeType===9?c="document":a.nodeType?c="node":e.call(a)==="[object Array]"||typeof a.length=="number"&&typeof a.item!="undefined"&&(a.length?a.item(0)===a[0]:a.item(0)===null&&typeof a[0]=="undefined")?c="array":c=typeof a,c},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(a){if(!this.multiline)return"";var b=this.indentChar;return this.HTML&&(b=b.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")),(new Array(this._depth_+(a||0))).join(b)},up:function(a){this._depth_+=a||1},down:function(a){this._depth_-=a||1},setParser:function(a,b){this.parsers[a]=b},quote:a,literal:c,join:d,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null","undefined":"undefined","function":function(a){var c="function",e="name"in a?a.name:(g.exec(a)||[])[1];return e&&(c+=" "+e),c+="( ",c=[c,b.jsDump.parse(a,"functionArgs"),"){"].join(""),d(c,b.jsDump.parse(a,"functionCode"),"}")},array:f,nodelist:f,arguments:f,object:function(a,c){var e=[],f,g,h,i;b.jsDump.up();if(Object.keys)f=Object.keys(a);else{f=[];for(g in a)f.push(g)}f.sort();for(i=0;i<f.length;i++)g=f[i],h=a[g],e.push(b.jsDump.parse(g,"key")+": "+b.jsDump.parse(h,undefined,c));return b.jsDump.down(),d("{",e,"}")},node:function(a){var c,d,e=b.jsDump.HTML?"&lt;":"<",f=b.jsDump.HTML?"&gt;":">",g=a.nodeName.toLowerCase(),h=e+g;for(c in b.jsDump.DOMAttrs)d=a[b.jsDump.DOMAttrs[c]],d&&(h+=" "+c+"="+b.jsDump.parse(d,"attribute"));return h+f+e+"/"+g+f},functionArgs:function(a){var b,c=a.length;if(!c)return"";b=new Array(c);while(c--)b[c]=String.fromCharCode(97+c);return" "+b.join(", ")+" "},key:a,functionCode:"[code]",attribute:a,string:a,date:a,regexp:c,number:c,"boolean":c},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"  ",multiline:!0};return h}(),b.diff=function(){function a(a,b){var c,d={},e={};for(c=0;c<b.length;c++)d[b[c]]==null&&(d[b[c]]={rows:[],o:null}),d[b[c]].rows.push(c);for(c=0;c<a.length;c++)e[a[c]]==null&&(e[a[c]]={rows:[],n:null}),e[a[c]].rows.push(c);for(c in d){if(!f.call(d,c))continue;d[c].rows.length==1&&typeof e[c]!="undefined"&&e[c].rows.length==1&&(b[d[c].rows[0]]={text:b[d[c].rows[0]],row:e[c].rows[0]},a[e[c].rows[0]]={text:a[e[c].rows[0]],row:d[c].rows[0]})}for(c=0;c<b.length-1;c++)b[c].text!=null&&b[c+1].text==null&&b[c].row+1<a.length&&a[b[c].row+1].text==null&&b[c+1]==a[b[c].row+1]&&(b[c+1]={text:b[c+1],row:b[c].row+1},a[b[c].row+1]={text:a[b[c].row+1],row:c+1});for(c=b.length-1;c>0;c--)b[c].text!=null&&b[c-1].text==null&&b[c].row>0&&a[b[c].row-1].text==null&&b[c-1]==a[b[c].row-1]&&(b[c-1]={text:b[c-1],row:b[c].row-1},a[b[c].row-1]={text:a[b[c].row-1],row:c-1});return{o:a,n:b}}return function(b,c){b=b.replace(/\s+$/,""),c=c.replace(/\s+$/,"");var d,e,f="",g=a(b===""?[]:b.split(/\s+/),c===""?[]:c.split(/\s+/)),h=b.match(/\s+/g),i=c.match(/\s+/g);h==null?h=[" "]:h.push(" "),i==null?i=[" "]:i.push(" ");if(g.n.length===0)for(d=0;d<g.o.length;d++)f+="<del>"+g.o[d]+h[d]+"</del>";else{if(g.n[0].text==null)for(c=0;c<g.o.length&&g.o[c].text==null;c++)f+="<del>"+g.o[c]+h[c]+"</del>";for(d=0;d<g.n.length;d++)if(g.n[d].text==null)f+="<ins>"+g.n[d]+i[d]+"</ins>";else{e="";for(c=g.n[d].row+1;c<g.o.length&&g.o[c].text==null;c++)e+="<del>"+g.o[c]+h[c]+"</del>";f+=" "+g.n[d].text+i[d]+e}}return f}}(),typeof exports!="undefined"&&s(exports,b)}(function(){return this}.call()),function(a){function c(b,c){function b$(a){return function(b){var c=this._t;return!c||!c._a?(c&&c.sID?e._wD(i+"ignoring "+b.type+": "+c.sID):e._wD(i+"ignoring "+b.type),null):a.call(this,b)}}this.flashVersion=8,this.debugMode=!0,this.debugFlash=!1,this.useConsole=!0,this.consoleOnly=!0,this.waitForWindowLoad=!1,this.bgColor="#F7F5FF",this.useHighPerformance=!1,this.flashPollingInterval=null,this.html5PollingInterval=null,this.flashLoadTimeout=1e3,this.wmode=null,this.allowScriptAccess="always",this.useFlashBlock=!1,this.useHTML5Audio=!0,this.html5Test=/^(probably|maybe)$/i,this.preferFlash=!0,this.noSWFCache=!1,this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.movieID="sm2-container",this.id=c||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20120318",this.version=null,this.movieURL=null,this.url=b||null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.hasHTML5=function(){try{return typeof Audio!="undefined"&&typeof (new Audio).canPlayType!="undefined"}catch(a){return!1}}(),this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var d,e=this,f=null,g="soundManager",h=g+"::",i="HTML5::",j,k=navigator.userAgent,l=a,m=l.location.href.toString(),n=document,o,p,q,r=[],s=!0,t,u=!1,v=!1,w=!1,x=!1,y=!1,z,A=0,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U=["log","info","warn","error"],V=8,W,X,Y,Z=null,$=null,_,ba,bb,bc,bd,be,bf,bg,bh,bi=!1,bj=!1,bk,bl,bm,bn=0,bo=null,bp,bq=null,br,bs,bt,bu,bv,bw,bx,by,bz=Array.prototype.slice,bA=!1,bB,bC,bD,bE,bF,bG=k.match(/(ipad|iphone|ipod)/i),bH=k.match(/firefox/i),bI=k.match(/droid/i),bJ=k.match(/msie/i),bK=k.match(/webkit/i),bL=k.match(/safari/i)&&!k.match(/chrome/i),bM=k.match(/opera/i),bN=k.match(/(mobile|pre\/|xoom)/i)||bG,bO=!m.match(/usehtml5audio/i)&&!m.match(/sm2\-ignorebadua/i)&&bL&&!k.match(/silk/i)&&k.match(/OS X 10_6_([3-7])/i),bP=typeof console!="undefined"&&typeof console.log!="undefined",bQ=typeof n.hasFocus!="undefined"?n.hasFocus():null,bR=bL&&typeof n.hasFocus=="undefined",bS=!bR,bT=/(mp3|mp4|mpa)/i,bU="about:blank",bV=n.location?n.location.protocol.match(/http/i):null,bW=bV?"":"http://",bX=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|mp4v|3gp|3g2)\s*(?:$|;)/i,bY=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"],bZ=new RegExp("\\.("+bY.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!bV,this._global_a=null,bc={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},bN&&(e.useHTML5Audio=!0,e.preferFlash=!1,bG&&(e.ignoreFlash=!0,bA=!0)),this.ok=function(){return bq?w&&!x:e.useHTML5Audio&&e.hasHTML5},this.supported=this.ok,this.getMovie=function(a){return j(a)||n[a]||l[a]},this.createSound=function(a){function k(){return h=be(h),e.sounds[j.id]=new d(j),e.soundIDs.push(j.id),e.sounds[j.id]}var b,c,h=null,i=null,j=null;return b=g+".createSound(): ",c=b+_(w?"notOK":"notReady"),!w||!e.ok()?(bg(c),!1):(arguments.length===2&&(a={id:arguments[0],url:arguments[1]}),h=C(a),h.url=bp(h.url),j=h,j.id.toString().charAt(0).match(/^[0-9]$/)&&e._wD(b+_("badID",j.id),2),e._wD(b+j.id+" ("+j.url+")",1),bh(j.id,!0)?(e._wD(b+j.id+" exists",1),e.sounds[j.id]):(bs(j)?(i=k(),e._wD("Loading sound "+j.id+" via HTML5"),i._setup_html5(j)):(q>8&&(j.isMovieStar===null&&(j.isMovieStar=j.serverURL||(j.type?j.type.match(bX):!1)||j.url.match(bZ)),j.isMovieStar&&e._wD(b+"using MovieStar handling"),j.isMovieStar&&(j.usePeakData&&(z("noPeak"),j.usePeakData=!1),j.loops>1&&z("noNSLoop"))),j=bf(j,b),i=k(),q===8?f._createSound(j.id,j.loops||1,j.usePolicyFile):(f._createSound(j.id,j.url,j.usePeakData,j.useWaveformData,j.useEQData,j.isMovieStar,j.isMovieStar?j.bufferTime:!1,j.loops||1,j.serverURL,j.duration||null,j.autoPlay,!0,j.autoLoad,j.usePolicyFile),j.serverURL||(i.connected=!0,j.onconnect&&j.onconnect.apply(i))),!j.serverURL&&(j.autoLoad||j.autoPlay)&&i.load(j)),!j.serverURL&&j.autoPlay&&i.play(),i))},this.destroySound=function(a,b){if(!bh(a))return!1;var c=e.sounds[a],d;c._iO={},c.stop(),c.unload();for(d=0;d<e.soundIDs.length;d++)if(e.soundIDs[d]===a){e.soundIDs.splice(d,1);break}return b||c.destruct(!0),c=null,delete e.sounds[a],!0},this.load=function(a,b){return bh(a)?e.sounds[a].load(b):!1},this.unload=function(a){return bh(a)?e.sounds[a].unload():!1},this.onPosition=function(a,b,c,d){return bh(a)?e.sounds[a].onposition(b,c,d):!1},this.onposition=this.onPosition,this.clearOnPosition=function(a,b,c){return bh(a)?e.sounds[a].clearOnPosition(b,c):!1},this.play=function(a,b){return!w||!e.ok()?(bg(g+".play(): "+_(w?"notOK":"notReady")),!1):bh(a)?e.sounds[a].play(b):(b instanceof Object||(b={url:b}),b&&b.url?(e._wD(g+'.play(): attempting to create "'+a+'"',1),b.id=a,e.createSound(b).play()):!1)},this.start=this.play,this.setPosition=function(a,b){return bh(a)?e.sounds[a].setPosition(b):!1},this.stop=function(a){return bh(a)?(e._wD(g+".stop("+a+")",1),e.sounds[a].stop()):!1},this.stopAll=function(){var a;e._wD(g+".stopAll()",1);for(a in e.sounds)e.sounds.hasOwnProperty(a)&&e.sounds[a].stop()},this.pause=function(a){return bh(a)?e.sounds[a].pause():!1},this.pauseAll=function(){var a;for(a=e.soundIDs.length-1;a>=0;a--)e.sounds[e.soundIDs[a]].pause()},this.resume=function(a){return bh(a)?e.sounds[a].resume():!1},this.resumeAll=function(){var a;for(a=e.soundIDs.length-1;a>=0;a--)e.sounds[e.soundIDs[a]].resume()},this.togglePause=function(a){return bh(a)?e.sounds[a].togglePause():!1},this.setPan=function(a,b){return bh(a)?e.sounds[a].setPan(b):!1},this.setVolume=function(a,b){return bh(a)?e.sounds[a].setVolume(b):!1},this.mute=function(a){var b=0;typeof a!="string"&&(a=null);if(!a){e._wD(g+".mute(): Muting all sounds");for(b=e.soundIDs.length-1;b>=0;b--)e.sounds[e.soundIDs[b]].mute();return e.muted=!0,!0}return bh(a)?(e._wD(g+'.mute(): Muting "'+a+'"'),e.sounds[a].mute()):!1},this.muteAll=function(){e.mute()},this.unmute=function(a){var b;typeof a!="string"&&(a=null);if(!a){e._wD(g+".unmute(): Unmuting all sounds");for(b=e.soundIDs.length-1;b>=0;b--)e.sounds[e.soundIDs[b]].unmute();return e.muted=!1,!0}return bh(a)?(e._wD(g+'.unmute(): Unmuting "'+a+'"'),e.sounds[a].unmute()):!1},this.unmuteAll=function(){e.unmute()},this.toggleMute=function(a){return bh(a)?e.sounds[a].toggleMute():!1},this.getMemoryUse=function(){var a=0;return f&&q!==8&&(a=parseInt(f._getMemoryUse(),10)),a},this.disable=function(a){var b;typeof a=="undefined"&&(a=!1);if(x)return!1;x=!0,z("shutdown",1);for(b=e.soundIDs.length-1;b>=0;b--)W(e.sounds[e.soundIDs[b]]);return B(a),by.remove(l,"load",F),!0},this.canPlayMIME=function(a){var b;return e.hasHTML5&&(b=bt({type:a})),!bq||b?b:a&&e.ok()?!!((q>8?a.match(bX):null)||a.match(e.mimePattern)):null},this.canPlayURL=function(a){var b;return e.hasHTML5&&(b=bt({url:a})),!bq||b?b:a&&e.ok()?!!a.match(e.filePattern):null},this.canPlayLink=function(a){return typeof a.type!="undefined"&&a.type&&e.canPlayMIME(a.type)?!0:e.canPlayURL(a.href)},this.getSoundById=function(a,b){if(!a)throw new Error(g+".getSoundById(): sID is null/undefined");var c=e.sounds[a];return!c&&!b&&e._wD('"'+a+'" is an invalid sound ID.',2),c},this.onready=function(a,b){var c="onready";if(a&&a instanceof Function)return w&&e._wD(_("queue",c)),b||(b=l),D(c,a,b),E(),!0;throw _("needFunction",c)},this.ontimeout=function(a,b){var c="ontimeout";if(a&&a instanceof Function)return w&&e._wD(_("queue",c)),b||(b=l),D(c,a,b),E({type:c}),!0;throw _("needFunction",c)},this._writeDebug=function(a,b,c){var d="soundmanager-debug",f,g,h;if(!e.debugMode)return!1;typeof c!="undefined"&&c&&(a=a+" | "+(new Date).getTime());if(bP&&e.useConsole){h=U[b],typeof console[h]!="undefined"?console[h](a):console.log(a);if(e.consoleOnly)return!0}try{f=j(d);if(!f)return!1;g=n.createElement("div"),++A%2===0&&(g.className="sm2-alt"),typeof b=="undefined"?b=0:b=parseInt(b,10),g.appendChild(n.createTextNode(a)),b&&(b>=2&&(g.style.fontWeight="bold"),b===3&&(g.style.color="#ff3333")),f.insertBefore(g,f.firstChild)}catch(i){}return f=null,!0},this._wD=this._writeDebug,this._debug=function(){var a,b;z("currentObj",1);for(a=0,b=e.soundIDs.length;a<b;a++)e.sounds[e.soundIDs[a]]._debug()},this.reboot=function(){e._wD(g+".reboot()"),e.soundIDs.length&&e._wD("Destroying "+e.soundIDs.length+" SMSound objects...");var a,b;for(a=e.soundIDs.length-1;a>=0;a--)e.sounds[e.soundIDs[a]].destruct();try{bJ&&($=f.innerHTML),Z=f.parentNode.removeChild(f),e._wD("Flash movie removed.")}catch(c){z("badRemove",2)}$=Z=bq=null,e.enabled=O=w=bi=bj=u=v=x=e.swfLoaded=!1,e.soundIDs=[],e.sounds={},f=null;for(a in r)if(r.hasOwnProperty(a))for(b=r[a].length-1;b>=0;b--)r[a][b].fired=!1;e._wD(g+": Rebooting..."),l.setTimeout(e.beginDelayedInit,20)},this.getMoviePercent=function(){return f&&typeof f.PercentLoaded!="undefined"?f.PercentLoaded():null},this.beginDelayedInit=function(){y=!0,M(),setTimeout(function(){return bj?!1:(Q(),L(),bj=!0,!0)},20),G()},this.destruct=function(){e._wD(g+".destruct()"),e.disable(!0)},d=function(a){var b=this,c,d,g,h,j,k,l=!1,m=[],n=0,o,p,r=null,s;s={duration:null,time:null},this.sID=a.id,this.url=a.url,this.options=C(a),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){if(e.debugMode){var a=null,c=[],d,f,g=64;for(a in b.options)b.options[a]!==null&&(b.options[a]instanceof Function?(d=b.options[a].toString(),d=d.replace(/\s\s+/g," "),f=d.indexOf("{"),c.push(" "+a+": {"+d.substr(f+1,Math.min(Math.max(d.indexOf("\n")-1,g),g)).replace(/\n/g,"")+"... }")):c.push(" "+a+": "+b.options[a]));e._wD("SMSound() merged options: {\n"+c.join(", \n")+"\n}")}},this._debug(),this.load=function(a){var c=null,d;typeof a!="undefined"?(b._iO=C(a,b.options),b.instanceOptions=b._iO):(a=b.options,b._iO=a,b.instanceOptions=b._iO,r&&r!==b.url&&(z("manURL"),b._iO.url=b.url,b.url=null)),b._iO.url||(b._iO.url=b.url),b._iO.url=bp(b._iO.url),e._wD("SMSound.load(): "+b._iO.url,1);if(b._iO.url===b.url&&b.readyState!==0&&b.readyState!==2)return z("onURL",1),b.readyState===3&&b._iO.onload&&b._iO.onload.apply(b,[!!b.duration]),b;d=b._iO,r=b.url,b.loaded=!1,b.readyState=1,b.playState=0;if(bs(d))c=b._setup_html5(d),c._called_load?e._wD(i+"ignoring request to load again: "+b.sID):(e._wD(i+"load: "+b.sID),b._html5_canplay=!1,b._a.autobuffer="auto",b._a.preload="auto",c.load(),c._called_load=!0,d.autoPlay&&b.play());else try{b.isHTML5=!1,b._iO=bf(be(d)),d=b._iO,q===8?f._load(b.sID,d.url,d.stream,d.autoPlay,d.whileloading?1:0,d.loops||1,d.usePolicyFile):f._load(b.sID,d.url,!!d.stream,!!d.autoPlay,d.loops||1,!!d.autoLoad,d.usePolicyFile)}catch(g){z("smError",2),t("onload",!1),R({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return b},this.unload=function(){return b.readyState!==0&&(e._wD('SMSound.unload(): "'+b.sID+'"'),b.isHTML5?(h(),b._a&&(b._a.pause(),bv(b._a))):q===8?f._unload(b.sID,bU):f._unload(b.sID),c()),b},this.destruct=function(a){e._wD('SMSound.destruct(): "'+b.sID+'"'),b.isHTML5?(h(),b._a&&(b._a.pause(),bv(b._a),bA||g(),b._a._t=null,b._a=null)):(b._iO.onfailure=null,f._destroySound(b.sID)),a||e.destroySound(b.sID,!0)},this.play=function(a,c){var d,g,h,i;d="SMSound.play(): ",c=c===undefined?!0:c,a||(a={}),b._iO=C(a,b._iO),b._iO=C(b._iO,b.options),b._iO.url=bp(b._iO.url),b.instanceOptions=b._iO;if(b._iO.serverURL&&!b.connected)return b.getAutoPlay()||(e._wD(d+" Netstream not connected yet - setting autoPlay"),b.setAutoPlay(!0)),b;bs(b._iO)&&(b._setup_html5(b._iO),j());if(b.playState===1&&!b.paused){g=b._iO.multiShot;if(!g)return e._wD(d+'"'+b.sID+'" already playing (one-shot)',1),b;e._wD(d+'"'+b.sID+'" already playing (multi-shot)',1)}if(!b.loaded)if(b.readyState===0)e._wD(d+'Attempting to load "'+b.sID+'"',1),b.isHTML5||(b._iO.autoPlay=!0),b.load(b._iO);else{if(b.readyState===2)return e._wD(d+'Could not load "'+b.sID+'" - exiting',2),b;e._wD(d+'"'+b.sID+'" is loading - attempting to play..',1)}else e._wD(d+'"'+b.sID+'"');!b.isHTML5&&q===9&&b.position>0&&b.position===b.duration&&(e._wD(d+'"'+b.sID+'": Sound at end, resetting to position:0'),a.position=0);if(b.paused&&b.position&&b.position>0)e._wD(d+'"'+b.sID+'" is resuming from paused state',1),b.resume();else{b._iO=C(a,b._iO);if(b._iO.from!==null&&b._iO.to!==null&&b.instanceCount===0&&b.playState===0&&!b._iO.serverURL){i=function(){b._iO=C(a,b._iO),b.play(b._iO)};if(b.isHTML5&&!b._html5_canplay)return e._wD(d+'Beginning load of "'+b.sID+'" for from/to case'),b.load({_oncanplay:i}),!1;if(!b.isHTML5&&!b.loaded&&(!b.readyState||b.readyState!==2))return e._wD(d+'Preloading "'+b.sID+'" for from/to case'),b.load({onload:i}),!1;b._iO=p()}e._wD(d+'"'+b.sID+'" is starting to play'),(!b.instanceCount||b._iO.multiShotEvents||!b.isHTML5&&q>8&&!b.getAutoPlay())&&b.instanceCount++,b.playState===0&&b._iO.onposition&&k(b),b.playState=1,b.paused=!1,b.position=typeof b._iO.position!="undefined"&&!isNaN(b._iO.position)?b._iO.position:0,b.isHTML5||(b._iO=bf(be(b._iO))),b._iO.onplay&&c&&(b._iO.onplay.apply(b),l=!0),b.setVolume(b._iO.volume,!0),b.setPan(b._iO.pan,!0),b.isHTML5?(j(),h=b._setup_html5(),b.setPosition(b._iO.position),h.play()):f._start(b.sID,b._iO.loops||1,q===9?b._iO.position:b._iO.position/1e3)}return b},this.start=this.play,this.stop=function(a){var c=b._iO,d;return b.playState===1&&(b._onbufferchange(0),b._resetOnPosition(0),b.paused=!1,b.isHTML5||(b.playState=0),o(),c.to&&b.clearOnPosition(c.to),b.isHTML5?b._a&&(d=b.position,b.setPosition(0),b.position=d,b._a.pause(),b.playState=0,b._onTimer(),h()):(f._stop(b.sID,a),c.serverURL&&b.unload()),b.instanceCount=0,b._iO={},c.onstop&&c.onstop.apply(b)),b},this.setAutoPlay=function(a){e._wD("sound "+b.sID+" turned autoplay "+(a?"on":"off")),b._iO.autoPlay=a,b.isHTML5||(f._setAutoPlay(b.sID,a),a&&!b.instanceCount&&b.readyState===1&&(b.instanceCount++,e._wD("sound "+b.sID+" incremented instance count to "+b.instanceCount)))},this.getAutoPlay=function(){return b._iO.autoPlay},this.setPosition=function(a){a===undefined&&(a=0);var c,d,g,h=b.isHTML5?Math.max(a,0):Math.min(b.duration||b._iO.duration,Math.max(a,0));c=b.position,b.position=h,g=b.position/1e3,b._resetOnPosition(b.position),b._iO.position=h;if(!b.isHTML5)d=q===9?b.position:g,b.readyState&&b.readyState!==2&&f._setPosition(b.sID,d,b.paused||!b.playState);else if(b._a)if(b._html5_canplay){if(b._a.currentTime!==g){e._wD("setPosition("+g+"): setting position");try{b._a.currentTime=g,(b.playState===0||b.paused)&&b._a.pause()}catch(i){e._wD("setPosition("+g+"): setting position failed: "+i.message,2)}}}else e._wD("setPosition("+g+"): delaying, sound not ready");return b.isHTML5&&b.paused&&b._onTimer(!0),b},this.pause=function(a){return b.paused||b.playState===0&&b.readyState!==1?b:(e._wD("SMSound.pause()"),b.paused=!0,b.isHTML5?(b._setup_html5().pause(),h()):(a||a===undefined)&&f._pause(b.sID),b._iO.onpause&&b._iO.onpause.apply(b),b)},this.resume=function(){var a=b._iO;return b.paused?(e._wD("SMSound.resume()"),b.paused=!1,b.playState=1,b.isHTML5?(b._setup_html5().play(),j()):(a.isMovieStar&&!a.serverURL&&b.setPosition(b.position),f._pause(b.sID)),!l&&a.onplay?(a.onplay.apply(b),l=!0):a.onresume&&a.onresume.apply(b),b):b},this.togglePause=function(){return e._wD("SMSound.togglePause()"),b.playState===0?(b.play({position:q===9&&!b.isHTML5?b.position:b.position/1e3}),b):(b.paused?b.resume():b.pause(),b)},this.setPan=function(a,c){return typeof a=="undefined"&&(a=0),typeof c=="undefined"&&(c=!1),b.isHTML5||f._setPan(b.sID,a),b._iO.pan=a,c||(b.pan=a,b.options.pan=a),b},this.setVolume=function(a,c){return typeof a=="undefined"&&(a=100),typeof c=="undefined"&&(c=!1),b.isHTML5?b._a&&(b._a.volume=Math.max(0,Math.min(1,a/100))):f._setVolume(b.sID,e.muted&&!b.muted||b.muted?0:a),b._iO.volume=a,c||(b.volume=a,b.options.volume=a),b},this.mute=function(){return b.muted=!0,b.isHTML5?b._a&&(b._a.muted=!0):f._setVolume(b.sID,0),b},this.unmute=function(){b.muted=!1;var a=typeof b._iO.volume!="undefined";return b.isHTML5?b._a&&(b._a.muted=!1):f._setVolume(b.sID,a?b._iO.volume:b.options.volume),b},this.toggleMute=function(){return b.muted?b.unmute():b.mute()},this.onPosition=function(a,c,d){return m.push({position:parseInt(a,10),method:c,scope:typeof d!="undefined"?d:b,fired:!1}),b},this.onposition=this.onPosition,this.clearOnPosition=function(a,b){var c;a=parseInt(a,10);if(isNaN(a))return!1;for(c=0;c<m.length;c++)a===m[c].position&&(!b||b===m[c].method)&&(m[c].fired&&n--,m.splice(c,1))},this._processOnPosition=function(){var a,c,d=m.length;if(!d||!b.playState||n>=d)return!1;for(a=d-1;a>=0;a--)c=m[a],!c.fired&&b.position>=c.position&&(c.fired=!0,n++,c.method.apply(c.scope,[c.position]));return!0},this._resetOnPosition=function(a){var b,c,d=m.length;if(!d)return!1;for(b=d-1;b>=0;b--)c=m[b],c.fired&&a<=c.position&&(c.fired=!1,n--);return!0},p=function(){var a=b._iO,c=a.from,d=a.to,f,g;return g=function(){e._wD(b.sID+': "to" time of '+d+" reached."),b.clearOnPosition(d,g),b.stop()},f=function(){e._wD(b.sID+': playing "from" '+c),d!==null&&!isNaN(d)&&b.onPosition(d,g)},c!==null&&!isNaN(c)&&(a.position=c,a.multiShot=!1,f()),a},k=function(){var a,c=b._iO.onposition;if(c)for(a in c)c.hasOwnProperty(a)&&b.onPosition(parseInt(a,10),c[a])},o=function(){var a,c=b._iO.onposition;if(c)for(a in c)c.hasOwnProperty(a)&&b.clearOnPosition(parseInt(a,10))},j=function(){b.isHTML5&&bk(b)},h=function(){b.isHTML5&&bl(b)},c=function(){m=[],n=0,l=!1,b._hasTimer=null,b._a=null,b._html5_canplay=!1,b.bytesLoaded=null,b.bytesTotal=null,b.duration=b._iO&&b._iO.duration?b._iO.duration:null,b.durationEstimate=null,b.eqData=[],b.eqData.left=[],b.eqData.right=[],b.failures=0,b.isBuffering=!1,b.instanceOptions={},b.instanceCount=0,b.loaded=!1,b.metadata={},b.readyState=0,b.muted=!1,b.paused=!1,b.peakData={left:0,right:0},b.waveformData={left:[],right:[]},b.playState=0,b.position=null},c(),this._onTimer=function(a){var c,d=!1,e,f={};if(b._hasTimer||a)return b._a&&(a||(b.playState>0||b.readyState===1)&&!b.paused)?(c=b._get_html5_duration(),c!==s.duration&&(s.duration=c,b.duration=c,d=!0),b.durationEstimate=b.duration,e=b._a.currentTime*1e3||0,e!==s.time&&(s.time=e,d=!0),(d||a)&&b._whileplaying(e,f,f,f,f),d):!1},this._get_html5_duration=function(){var a=b._iO,c=b._a?b._a.duration*1e3:a?a.duration:undefined,d=c&&!isNaN(c)&&c!==Infinity?c:a?a.duration:null;return d},this._setup_html5=function(a){var f=C(b._iO,a),g=decodeURI,h=bA?e._global_a:b._a,i=g(f.url),j=h&&h._t?h._t.instanceOptions:null;if(h){if(h._t){if(!bA&&i===g(r))return h;if(bA&&j.url===f.url&&(!r||r===j.url))return h}e._wD("setting new URL on existing object: "+i+(r?", old URL: "+r:"")),bA&&h._t&&h._t.playState&&f.url!==j.url&&h._t.stop(),c(),h.src=f.url,b.url=f.url,r=f.url,h._called_load=!1}else e._wD("creating HTML5 Audio() element with URL: "+i),h=new Audio(f.url),h._called_load=!1,bI&&(h._called_load=!0),bA&&(e._global_a=h);return b.isHTML5=!0,b._a=h,h._t=b,d(),h.loop=f.loops>1?"loop":"",f.autoLoad||f.autoPlay?b.load():(h.autobuffer=!1,h.preload="none"),h.loop=f.loops>1?"loop":"",h},d=function(){function c(a,c,d){return b._a?b._a.addEventListener(a,c,d||!1):null}if(b._a._added_events)return!1;var a;e._wD(i+"adding event listeners: "+b.sID),b._a._added_events=!0;for(a in bE)bE.hasOwnProperty(a)&&c(a,bE[a]);return!0},g=function(){function c(a,c,d){return b._a?b._a.removeEventListener(a,c,d||!1):null}var a;e._wD(i+"removing event listeners: "+b.sID),b._a._added_events=!1;for(a in bE)bE.hasOwnProperty(a)&&c(a,bE[a])},this._onload=function(a){var c,d=!!a;return c="SMSound._onload(): ",e._wD(c+'"'+b.sID+'"'+(d?" loaded.":" failed to load? - "+b.url),d?1:2),!d&&!b.isHTML5&&(e.sandbox.noRemote===!0&&e._wD(c+_("noNet"),1),e.sandbox.noLocal===!0&&e._wD(c+_("noLocal"),1)),b.loaded=d,b.readyState=d?3:2,b._onbufferchange(0),b._iO.onload&&b._iO.onload.apply(b,[d]),!0},this._onbufferchange=function(a){return b.playState===0?!1:a&&b.isBuffering||!a&&!b.isBuffering?!1:(b.isBuffering=a===1,b._iO.onbufferchange&&(e._wD("SMSound._onbufferchange(): "+a),b._iO.onbufferchange.apply(b)),!0)},this._onsuspend=function(){return b._iO.onsuspend&&(e._wD("SMSound._onsuspend()"),b._iO.onsuspend.apply(b)),!0},this._onfailure=function(a,c,d){b.failures++,e._wD('SMSound._onfailure(): "'+b.sID+'" count '+b.failures),b._iO.onfailure&&b.failures===1?b._iO.onfailure(b,a,c,d):e._wD("SMSound._onfailure(): ignoring")},this._onfinish=function(){var a=b._iO.onfinish;b._onbufferchange(0),b._resetOnPosition(0),b.instanceCount&&(b.instanceCount--,b.instanceCount||(o(),b.playState=0,b.paused=!1,b.instanceCount=0,b.instanceOptions={},b._iO={},h()),(!b.instanceCount||b._iO.multiShotEvents)&&a&&(e._wD('SMSound._onfinish(): "'+b.sID+'"'),a.apply(b)))},this._whileloading=function(a,c,d,e){var f=b._iO;b.bytesLoaded=a,b.bytesTotal=c,b.duration=Math.floor(d),b.bufferLength=e,f.isMovieStar?(b.durationEstimate=b.duration,b.readyState!==3&&f.whileloading&&f.whileloading.apply(b)):(f.duration?b.durationEstimate=b.duration>f.duration?b.duration:f.duration:b.durationEstimate=parseInt(b.bytesTotal/b.bytesLoaded*b.duration,10),b.durationEstimate===undefined&&(b.durationEstimate=b.duration),b.readyState!==3&&f.whileloading&&f.whileloading.apply(b))},this._whileplaying=function(a,c,d,e,f){var g=b._iO,h;return isNaN(a)||a===null?!1:(b.position=a,b._processOnPosition(),!b.isHTML5&&q>8&&(g.usePeakData&&typeof c!="undefined"&&c&&(b.peakData={left:c.leftPeak,right:c.rightPeak}),g.useWaveformData&&typeof d!="undefined"&&d&&(b.waveformData={left:d.split(","),right:e.split(",")}),g.useEQData&&typeof f!="undefined"&&f&&f.leftEQ&&(h=f.leftEQ.split(","),b.eqData=h,b.eqData.left=h,typeof f.rightEQ!="undefined"&&f.rightEQ&&(b.eqData.right=f.rightEQ.split(",")))),b.playState===1&&(!b.isHTML5&&q===8&&!b.position&&b.isBuffering&&b._onbufferchange(0),g.whileplaying&&g.whileplaying.apply(b)),!0)},this._onmetadata=function(a,c){e._wD('SMSound._onmetadata(): "'+this.sID+'" metadata received.');var d={},f,g;for(f=0,g=a.length;f<g;f++)d[a[f]]=c[f];b.metadata=d,b._iO.onmetadata&&b._iO.onmetadata.apply(b)},this._onid3=function(a,c){e._wD('SMSound._onid3(): "'+this.sID+'" ID3 data received.');var d=[],f,g;for(f=0,g=a.length;f<g;f++)d[a[f]]=c[f];b.id3=C(b.id3,d),b._iO.onid3&&b._iO.onid3.apply(b)},this._onconnect=function(a){a=a===1,e._wD('SMSound._onconnect(): "'+b.sID+'"'+(a?" connected.":" failed to connect? - "+b.url),a?1:2),b.connected=a,a&&(b.failures=0,bh(b.sID)&&(b.getAutoPlay()?b.play(undefined,b.getAutoPlay()):b._iO.autoLoad&&b.load()),b._iO.onconnect&&b._iO.onconnect.apply(b,[a]))},this._ondataerror=function(a){b.playState>0&&(e._wD("SMSound._ondataerror(): "+a),b._iO.ondataerror&&b._iO.ondataerror.apply(b))}},P=function(){return n.body||n._docElement||n.getElementsByTagName("div")[0]},j=function(a){return n.getElementById(a)},C=function(a,b){var c={},d,f,g;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);f=typeof b=="undefined"?e.defaultOptions:b;for(g in f)f.hasOwnProperty(g)&&typeof c[g]=="undefined"&&(c[g]=f[g]);return c},by=function(){function c(b){var c=bz.call(b),d=c.length;return a?(c[1]="on"+c[1],d>3&&c.pop()):d===3&&c.push(!1),c}function d(c,d){var e=c.shift(),f=[b[d]];a?e[f](c[0],c[1]):e[f].apply(e,c)}function e(){d(c(arguments),"add")}function f(){d(c(arguments),"remove")}var a=l.attachEvent,b={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};return{add:e,remove:f}}(),bE={abort:b$(function(){e._wD(i+"abort: "+this._t.sID)}),canplay:b$(function(){var a=this._t,b;if(a._html5_canplay)return!0;a._html5_canplay=!0,e._wD(i+"canplay: "+a.sID+", "+a.url),a._onbufferchange(0),b=isNaN(a.position)?null:a.position/1e3;if(a.position&&this.currentTime!==b){e._wD(i+"canplay: setting position to "+b);try{this.currentTime=b}catch(c){e._wD(i+"setting position failed: "+c.message,2)}}a._iO._oncanplay&&a._iO._oncanplay()}),load:b$(function(){var a=this._t;a.loaded||(a._onbufferchange(0),a._whileloading(a.bytesTotal,a.bytesTotal,a._get_html5_duration()),a._onload(!0))}),ended:b$(function(){var a=this._t;e._wD(i+"ended: "+a.sID),a._onfinish()}),error:b$(function(){e._wD(i+"error: "+this.error.code),this._t._onload(!1)}),loadeddata:b$(function(){var a=this._t,b=a.bytesTotal||1;e._wD(i+"loadeddata: "+this._t.sID),!a._loaded&&!bL&&(a.duration=a._get_html5_duration(),a._whileloading(b,b,a._get_html5_duration()),a._onload(!0))}),loadedmetadata:b$(function(){e._wD(i+"loadedmetadata: "+this._t.sID)}),loadstart:b$(function(){e._wD(i+"loadstart: "+this._t.sID),this._t._onbufferchange(1)}),play:b$(function(){e._wD(i+"play: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0)}),playing:b$(function(){e._wD(i+"playing: "+this._t.sID),this._t._onbufferchange(0)}),progress:b$(function(a){var b=this._t,c,d,f,g=0,h=a.type==="progress",j=a.target.buffered,k=a.loaded||0,l=a.total||1;if(b.loaded)return!1;if(j&&j.length){for(c=j.length-1;c>=0;c--)g=j.end(c)-j.start(c);k=g/a.target.duration;if(h&&j.length>1){f=[],d=j.length;for(c=0;c<d;c++)f.push(a.target.buffered.start(c)+"-"+a.target.buffered.end(c));e._wD(i+"progress: timeRanges: "+f.join(", "))}h&&!isNaN(k)&&e._wD(i+"progress: "+b.sID+": "+Math.floor(k*100)+"% loaded")}isNaN(k)||(b._onbufferchange(0),b._whileloading(k,l,b._get_html5_duration()),k&&l&&k===l&&bE.load.call(this,a))}),ratechange:b$(function(){e._wD(i+"ratechange: "+this._t.sID)}),suspend:b$(function(a){var b=this._t;e._wD(i+"suspend: "+b.sID),bE.progress.call(this,a),b._onsuspend()}),stalled:b$(function(){e._wD(i+"stalled: "+this._t.sID)}),timeupdate:b$(function(){this._t._onTimer()}),waiting:b$(function(){var a=this._t;e._wD(i+"waiting: "+a.sID),a._onbufferchange(1)})},bs=function(a){return!a.serverURL&&(a.type?bt({type:a.type}):bt({url:a.url})||e.html5Only)},bv=function(a){a&&(a.src=bH?"":bU)},bt=function(a){function j(a){return e.preferFlash&&bB&&!e.ignoreFlash&&typeof e.flash[a]!="undefined"&&e.flash[a]}if(!e.useHTML5Audio||!e.hasHTML5)return!1;var b=a.url||null,c=a.type||null,d=e.audioFormats,f,g,h,i;if(c&&typeof e.html5[c]!="undefined")return e.html5[c]&&!j(c);if(!bu){bu=[];for(i in d)d.hasOwnProperty(i)&&(bu.push(i),d[i].related&&(bu=bu.concat(d[i].related)));bu=new RegExp("\\.("+bu.join("|")+")(\\?.*)?$","i")}h=b?b.toLowerCase().match(bu):null;if(!h||!h.length){if(!c)return!1;g=c.indexOf(";"),h=(g!==-1?c.substr(0,g):c).substr(6)}else h=h[1];return h&&typeof e.html5[h]!="undefined"?e.html5[h]&&!j(h):(c="audio/"+h,f=e.html5.canPlayType({type:c}),e.html5[h]=f,f&&e.html5[c]&&!j(c))},bx=function(){function g(b){var c,d,f,g=!1;if(!a||typeof a.canPlayType!="function")return!1;if(b instanceof Array){for(d=0,f=b.length;d<f&&!g;d++)if(e.html5[b[d]]||a.canPlayType(b[d]).match(e.html5Test))g=!0,e.html5[b[d]]=!0,e.flash[b[d]]=!!(e.preferFlash&&bB&&b[d].match(bT));return g}return c=a&&typeof a.canPlayType=="function"?a.canPlayType(b):!1,!!c&&!!c.match(e.html5Test)}if(!e.useHTML5Audio||typeof Audio=="undefined")return!1;var a=typeof Audio!="undefined"?bM?new Audio(null):new Audio:null,b,c={},d,f;d=e.audioFormats;for(b in d)if(d.hasOwnProperty(b)){c[b]=g(d[b].type),c["audio/"+b]=c[b],e.preferFlash&&!e.ignoreFlash&&b.match(bT)?e.flash[b]=!0:e.flash[b]=!1;if(d[b]&&d[b].related)for(f=d[b].related.length-1;f>=0;f--)c["audio/"+d[b].related[f]]=c[b],e.html5[d[b].related[f]]=c[b],e.flash[d[b].related[f]]=c[b]}return c.canPlayType=a?g:null,e.html5=C(e.html5,c),!0},K={notReady:"Not loaded yet - wait for soundManager.onload()/onready()",notOK:"Audio support is not available.",domError:h+"createMovie(): appendChild/innerHTML call failed. DOM not ready or other error.",spcWmode:h+"createMovie(): Removing wmode, preventing known SWF loading issue(s)",swf404:g+": Verify that %s is a valid path.",tryDebug:"Try "+g+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:g+": Non-HTTP page ("+n.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:g+": Special case: Waiting for focus-related event..",waitImpatient:g+": Getting impatient, still waiting for Flash%s...",waitForever:g+": Waiting indefinitely for Flash (will recover if unblocked)...",needFunction:g+": Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"--- "+g+"._debug(): Current sound objects ---",waitEI:h+"initMovie(): Waiting for ExternalInterface call from Flash..",waitOnload:g+": Waiting for window.onload()",docLoaded:g+": Document already loaded",onload:h+"initComplete(): calling soundManager.onload()",onloadOK:g+".onload() complete",init:h+"init()",didInit:h+"init(): Already called?",flashJS:g+": Attempting to call Flash from JS..",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"Warning: Failed to remove flash movie.",noPeak:"Warning: peakData features unsupported for movieStar formats",shutdown:g+".disable(): Shutting down",queue:g+": Queueing %s handler",smFail:g+": Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+bc.swfTimedout+" CSS..",fbLoaded:"Flash loaded",fbHandler:h+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:g+".load(): current URL already assigned.",badFV:g+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",mfOn:"mobileFlash::enabling on-screen flash repositioning",policy:"Enabling usePolicyFile for data access"},_=function(){var a=bz.call(arguments),b=a.shift(),c=K&&K[b]?K[b]:"",d,e;if(c&&a&&a.length)for(d=0,e=a.length;d<e;d++)c=c.replace("%s",a[d]);return c},be=function(a){return q===8&&a.loops>1&&a.stream&&(z("as2loop"),a.stream=!1),a},bf=function(a,b){return a&&!a.usePolicyFile&&(a.onid3||a.usePeakData||a.useWaveformData||a.useEQData)&&(e._wD((b||"")+_("policy")),a.usePolicyFile=!0),a},bg=function(a){typeof console!="undefined"&&typeof console.warn!="undefined"?console.warn(a):e._wD(a)},o=function(){return!1},W=function(a){var b;for(b in a)a.hasOwnProperty(b)&&typeof a[b]=="function"&&(a[b]=o);b=null},X=function(a){typeof a=="undefined"&&(a=!1);if(x||a)z("smFail",2),e.disable(a)},Y=function(a){var b=null,c;if(a)if(a.match(/\.swf(\?.*)?$/i)){b=a.substr(a.toLowerCase().lastIndexOf(".swf?")+4);if(b)return a}else a.lastIndexOf("/")!==a.length-1&&(a+="/");return c=(a&&a.lastIndexOf("/")!==-1?a.substr(0,a.lastIndexOf("/")+1):"./")+e.movieURL,e.noSWFCache&&(c+="?ts="+(new Date).getTime()),c},I=function(){q=parseInt(e.flashVersion,10),q!==8&&q!==9&&(e._wD(_("badFV",q,V)),e.flashVersion=q=V);var a=e.debugMode||e.debugFlash?"_debug.swf":".swf";e.useHTML5Audio&&!e.html5Only&&e.audioFormats.mp4.required&&q<9&&(e._wD(_("needfl9")),e.flashVersion=q=9),e.version=e.versionNumber+(e.html5Only?" (HTML5-only mode)":q===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),q>8?(e.defaultOptions=C(e.defaultOptions,e.flash9Options),e.features.buffering=!0,e.defaultOptions=C(e.defaultOptions,e.movieStarOptions),e.filePatterns.flash9=new RegExp("\\.(mp3|"+bY.join("|")+")(\\?.*)?$","i"),e.features.movieStar=!0):e.features.movieStar=!1,e.filePattern=e.filePatterns[q!==8?"flash9":"flash8"],e.movieURL=(q===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",a),e.features.peakData=e.features.waveformData=e.features.eqData=q>8},S=function(a,b){if(!f)return!1;f._setPolling(a,b)},T=function(){e.debugURLParam.test(m)&&(e.debugMode=!0);if(j(e.debugID))return!1;var a,b,c,d,f;if(e.debugMode&&!j(e.debugID)&&(!bP||!e.useConsole||!e.consoleOnly)){a=n.createElement("div"),a.id=e.debugID+"-toggle",d={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},a.appendChild(n.createTextNode("-")),a.onclick=bd,a.title="Toggle SM2 debug console",k.match(/msie 6/i)&&(a.style.position="absolute",a.style.cursor="hand");for(f in d)d.hasOwnProperty(f)&&(a.style[f]=d[f]);b=n.createElement("div"),b.id=e.debugID,b.style.display=e.debugMode?"block":"none";if(e.debugMode&&!j(a.id)){try{c=P(),c.appendChild(a)}catch(g){throw new Error(_("domError")+" \n"+g.toString())}c.appendChild(b)}}c=null},bh=this.getSoundById,z=function(a,b){return a?e._wD(_(a),b):""},m.indexOf("sm2-debug=alert")+1&&e.debugMode&&(e._wD=function(b){a.alert(b)}),bd=function(){var a=j(e.debugID),b=j(e.debugID+"-toggle");if(!a)return!1;s?(b.innerHTML="+",a.style.display="none"):(b.innerHTML="-",a.style.display="block"),s=!s},t=function(a,b,c){if(typeof sm2Debugger!="undefined")try{sm2Debugger.handleEvent(a,b,c)}catch(d){}return!0},bb=function(){var a=[];return e.debugMode&&a.push(bc.sm2Debug),e.debugFlash&&a.push(bc.flashDebug),e.useHighPerformance&&a.push(bc.highPerf),a.join(" ")},ba=function(){var a=_("fbHandler"),b=e.getMoviePercent(),c=bc,d={type:"FLASHBLOCK"};if(e.html5Only)return!1;e.ok()?(e.didFlashBlock&&e._wD(a+": Unblocked"),e.oMC&&(e.oMC.className=[bb(),c.swfDefault,c.swfLoaded+(e.didFlashBlock?" "+c.swfUnblocked:"")].join(" "))):(bq&&(e.oMC.className=bb()+" "+c.swfDefault+" "+(b===null?c.swfTimedout:c.swfError),e._wD(a+": "+_("fbTimeout")+(b?" ("+_("fbLoaded")+")":""))),e.didFlashBlock=!0,E({type:"ontimeout",ignoreInit:!0,error:d}),R(d))},D=function(a,b,c){typeof r[a]=="undefined"&&(r[a]=[]),r[a].push({method:b,scope:c||null,fired:!1})},E=function(a){a||(a={type:"onready"});if(!w&&a&&!a.ignoreInit)return!1;if(a.type==="ontimeout"&&e.ok())return!1;var b={success:a&&a.ignoreInit?e.ok():!x},c=a&&a.type?r[a.type]||[]:[],d=[],f,h,i=[b],j=bq&&e.useFlashBlock&&!e.ok();a.error&&(i[0].error=a.error);for(f=0,h=c.length;f<h;f++)c[f].fired!==!0&&d.push(c[f]);if(d.length){e._wD(g+": Firing "+d.length+" "+a.type+"() item"+(d.length===1?"":"s"));for(f=0,h=d.length;f<h;f++)d[f].scope?d[f].method.apply(d[f].scope,i):d[f].method.apply(this,i),j||(d[f].fired=!0)}return!0},F=function(){l.setTimeout(function(){e.useFlashBlock&&ba(),E(),e.onload instanceof Function&&(z("onload",1),e.onload.apply(l),z("onloadOK",1)),e.waitForWindowLoad&&by.add(l,"load",F)},1)},bC=function(){if(bB!==undefined)return bB;var a=!1,b=navigator,c=b.plugins,d,e,f,g=l.ActiveXObject;if(c&&c.length)e="application/x-shockwave-flash",f=b.mimeTypes,f&&f[e]&&f[e].enabledPlugin&&f[e].enabledPlugin.description&&(a=!0);else if(typeof g!="undefined"){try{d=new g("ShockwaveFlash.ShockwaveFlash")}catch(h){}a=!!d}return bB=a,a},br=function(){var a,b,c=bG&&!!k.match(/os (1|2|3_0|3_1)/i);if(c)return e.hasHTML5=!1,e.html5Only=!0,e.oMC&&(e.oMC.style.display="none"),!1;if(!e.useHTML5Audio)return!0;if(!e.html5||!e.html5.canPlayType)return e._wD("SoundManager: No HTML5 Audio() support detected."),e.hasHTML5=!1,!0;e.hasHTML5=!0;if(bO){e._wD(h+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(bB?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1);if(bC())return!0}for(b in e.audioFormats)e.audioFormats.hasOwnProperty(b)&&(e.audioFormats[b].required&&!e.html5.canPlayType(e.audioFormats[b].type)||e.flash[b]||e.flash[e.audioFormats[b].type])&&(a=!0);return e.ignoreFlash&&(a=!1),e.html5Only=e.hasHTML5&&e.useHTML5Audio&&!a,!e.html5Only},bp=function(a){var b,c,d=0;if(a instanceof Array){for(b=0,c=a.length;b<c;b++)if(a[b]instanceof Object){if(e.canPlayMIME(a[b].type)){d=b;break}}else if(e.canPlayURL(a[b])){d=b;break}return a[d].url&&(a[d]=a[d].url),a[d]}return a},bk=function(b){b._hasTimer||(b._hasTimer=!0,!bN&&e.html5PollingInterval&&(bo===null&&bn===0&&(bo=a.setInterval(bm,e.html5PollingInterval)),bn++))},bl=function(a){a._hasTimer&&(a._hasTimer=!1,!bN&&e.html5PollingInterval&&bn--)},bm=function(){var b;if(bo!==null&&!bn)return a.clearInterval(bo),bo=null,!1;for(b=e.soundIDs.length-1;b>=0;b--)e.sounds[e.soundIDs[b]].isHTML5&&e.sounds[e.soundIDs[b]]._hasTimer&&e.sounds[e.soundIDs[b]]._onTimer()},R=function(a){a=typeof a!="undefined"?a:{},e.onerror instanceof Function&&e.onerror.apply(l,[{type:typeof a.type!="undefined"?a.type:null}]),typeof a.fatal!="undefined"&&a.fatal&&e.disable()},bD=function(){if(!bO||!bC())return!1;var a=e.audioFormats,b,c;for(c in a)if(a.hasOwnProperty(c))if(c==="mp3"||c==="mp4"){e._wD(g+": Using flash fallback for "+c+" format"),e.html5[c]=!1;if(a[c]&&a[c].related)for(b=a[c].related.length-1;b>=0;b--)e.html5[a[c].related[b]]=!1}},this._setSandboxType=function(a){var b=e.sandbox;b.type=a,b.description=b.types[typeof b.types[a]!="undefined"?a:"unknown"],e._wD("Flash security sandbox type: "+b.type),b.type==="localWithFile"?(b.noRemote=!0,b.noLocal=!1,z("secNote",2)):b.type==="localWithNetwork"?(b.noRemote=!1,b.noLocal=!0):b.type==="localTrusted"&&(b.noRemote=!1,b.noLocal=!1)},this._externalInterfaceOK=function(a,b){if(e.swfLoaded)return!1;var c,d=(new Date).getTime();e._wD(h+"externalInterfaceOK()"+(a?" (~"+(d-a)+" ms)":"")),t("swf",!0),t("flashtojs",!0),e.swfLoaded=!0,bR=!1,bO&&bD();if(!b||b.replace(/\+dev/i,"")!==e.versionNumber.replace(/\+dev/i,""))return c=g+': Fatal: JavaScript file build "'+e.versionNumber+'" does not match Flash SWF build "'+b+'" at '+e.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(c)},0),!1;bJ?setTimeout(p,100):p()},Q=function(a,b){function c(){e._wD("-- SoundManager 2 "+e.version+(!e.html5Only&&e.useHTML5Audio?e.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"")+(e.html5Only?"":(e.useHighPerformance?", high performance mode, ":", ")+((e.flashPollingInterval?"custom ("+e.flashPollingInterval+"ms)":"normal")+" polling")+(e.wmode?", wmode: "+e.wmode:"")+(e.debugFlash?", flash debug mode":"")+(e.useFlashBlock?", flashBlock mode":""))+" --",1)}function C(a,b){return'<param name="'+a+'" value="'+b+'" />'}if(u&&v)return!1;if(e.html5Only)return I(),c(),e.oMC=j(e.movieID),p(),u=!0,v=!0,!1;var d=b||e.url,f=e.altURL||d,g="JS/Flash audio component (SoundManager 2)",i,l,m=P(),o,q,r,s=bb(),t,w,x,y=null,A=null,B=n.getElementsByTagName("html")[0];A=B&&B.dir&&B.dir.match(/rtl/i),a=typeof a=="undefined"?e.id:a,I(),e.url=Y(bV?d:f),b=e.url,e.wmode=!e.wmode&&e.useHighPerformance?"transparent":e.wmode,e.wmode!==null&&(k.match(/msie 8/i)||!bJ&&!e.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(z("spcWmode"),e.wmode=null),i={name:a,id:a,src:b,quality:"high",allowScriptAccess:e.allowScriptAccess,bgcolor:e.bgColor,pluginspage:bW+"www.macromedia.com/go/getflashplayer",title:g,type:"application/x-shockwave-flash",wmode:e.wmode,hasPriority:"true"},y!==null&&(i.width=y,i.height=y),e.debugFlash&&(i.FlashVars="debug=1"),e.wmode||delete i.wmode;if(bJ)l=n.createElement("div"),q=['<object id="'+a+'" data="'+b+'" type="'+i.type+'" title="'+i.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+bW+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" width="'+i.width+'" height="'+i.height+'">',C("movie",b),C("AllowScriptAccess",e.allowScriptAccess),C("quality",i.quality),e.wmode?C("wmode",e.wmode):"",C("bgcolor",e.bgColor),C("hasPriority","true"),e.debugFlash?C("FlashVars",i.FlashVars):"","</object>"].join("");else{l=n.createElement("embed");for(o in i)i.hasOwnProperty(o)&&l.setAttribute(o,i[o])}T(),s=bb(),m=P();if(m){e.oMC=j(e.movieID)||n.createElement("div");if(!e.oMC.id){e.oMC.id=e.movieID,e.oMC.className=bc.swfDefault+" "+s,t=null,r=null,e.useFlashBlock||(e.useHighPerformance?t={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(t={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},A&&(t.left=Math.abs(parseInt(t.left,10))+"px"))),bK&&(e.oMC.style.zIndex=1e4);if(!e.debugFlash)for(w in t)t.hasOwnProperty(w)&&(e.oMC.style[w]=t[w]);try{bJ||e.oMC.appendChild(l),m.appendChild(e.oMC),bJ&&(r=e.oMC.appendChild(n.createElement("div")),r.className=bc.swfBox,r.innerHTML=q),v=!0}catch(D){throw new Error(_("domError")+" \n"+D.toString())}}else x=e.oMC.className,e.oMC.className=(x?x+" ":bc.swfDefault)+(s?" "+s:""),e.oMC.appendChild(l),bJ&&(r=e.oMC.appendChild(n.createElement("div")),r.className=bc.swfBox,r.innerHTML=q),v=!0}return u=!0,c(),e._wD(h+"createMovie(): Trying to load "+b+(!bV&&e.altURL?" (alternate URL)":""),1),!0},L=function(){return e.html5Only?(Q(),!1):f?!1:(f=e.getMovie(e.id),f||(Z?(bJ?e.oMC.innerHTML=$:e.oMC.appendChild(Z),Z=null,u=!0):Q(e.id,e.url),f=e.getMovie(e.id)),f&&z("waitEI"),e.oninitmovie instanceof Function&&setTimeout(e.oninitmovie,1),!0)},G=function(){setTimeout(H,1e3)},H=function(){if(bi)return!1;bi=!0,by.remove(l,"load",G);if(bR&&!bQ)return z("waitFocus"),!1;var a;w||(a=e.getMoviePercent(),e._wD(_("waitImpatient",a===100?" (SWF loaded)":a>0?" (SWF "+a+"% loaded)":""))),setTimeout(function(){a=e.getMoviePercent(),w||(e._wD(g+": No Flash response within expected time.\nLikely causes: "+(a===0?"Loading "+e.movieURL+" may have failed (and/or Flash "+q+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(e.debugFlash?" "+_("checkSWF"):""),2),!bV&&a&&(z("localFail",2),e.debugFlash||z("tryDebug",2)),a===0&&e._wD(_("swf404",e.url)),t("flashtojs",!1,": Timed out"+bV?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")),!w&&bS&&(a===null?e.useFlashBlock||e.flashLoadTimeout===0?(e.useFlashBlock&&ba(),z("waitForever")):X(!0):e.flashLoadTimeout===0?z("waitForever"):X(!0))},e.flashLoadTimeout)},J=function(){function a(){by.remove(l,"focus",J),by.remove(l,"load",J)}return bQ||!bR?(a(),!0):(bS=!0,bQ=!0,e._wD(h+"handleFocus()"),bL&&bR&&by.remove(l,"mousemove",J),bi=!1,a(),!0)},bF=function(){var a,b=[];if(e.useHTML5Audio&&e.hasHTML5){for(a in e.audioFormats)e.audioFormats.hasOwnProperty(a)&&b.push(a+": "+e.html5[a]+(!e.html5[a]&&bB&&e.flash[a]?" (using flash)":e.preferFlash&&e.flash[a]&&bB?" (preferring flash)":e.html5[a]?"":" ("+(e.audioFormats[a].required?"required, ":"")+"and no flash support)"));e._wD("-- SoundManager 2: HTML5 support tests ("+e.html5Test+"): "+b.join(", ")+" --",1)}},B=function(a){if(w)return!1;if(e.html5Only)return e._wD("-- SoundManager 2: loaded --"),w=!0,F(),t("onload",!0),!0;var b=e.useFlashBlock&&e.flashLoadTimeout&&!e.getMoviePercent(),c;return b||(w=!0,x&&(c={type:!bB&&bq?"NO_FLASH":"INIT_TIMEOUT"})),e._wD("-- SoundManager 2 "+(x?"failed to load":"loaded")+" ("+(x?"security/load error":"OK")+") --",1),x||a?(e.useFlashBlock&&e.oMC&&(e.oMC.className=bb()+" "+(e.getMoviePercent()===null?bc.swfTimedout:bc.swfError)),E({type:"ontimeout",error:c}),t("onload",!1),R(c),!1):(t("onload",!0),e.waitForWindowLoad&&!y?(z("waitOnload"),by.add(l,"load",F),!1):(e.waitForWindowLoad&&y&&z("docLoaded"),F(),!0))},p=function(){function a(){by.remove(l,"load",e.beginDelayedInit)}z("init");if(w)return z("didInit"),!1;if(e.html5Only)return w||(a(),e.enabled=!0,B()),!0;L();try{z("flashJS"),f._externalInterfaceTest(!1),S(!0,e.flashPollingInterval||(e.useHighPerformance?10:50)),e.debugMode||f._disableDebug(),e.enabled=!0,t("jstoflash",!0),e.html5Only||by.add(l,"unload",o)}catch(b){return e._wD("js/flash exception: "+b.toString()),t("jstoflash",!1),R({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),X(!0),B(),!1}return B(),a(),!0},M=function(){return O?!1:(O=!0,T(),function(){var a="sm2-usehtml5audio=",b=m.toLowerCase(),c=null,d="sm2-preferflash=",f=null,g=typeof console!="undefined"&&typeof console.log!="undefined";b.indexOf(a)!==-1&&(c=b.charAt(b.indexOf(a)+a.length)==="1",g&&console.log((c?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),e.useHTML5Audio=c),b.indexOf(d)!==-1&&(f=b.charAt(b.indexOf(d)+d.length)==="1",g&&console.log((f?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),e.preferFlash=f)}(),!bB&&e.hasHTML5&&(e._wD("SoundManager: No Flash detected"+(e.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5.")),e.useHTML5Audio=!0,e.preferFlash=!1),bx(),e.html5.usingFlash=br(),bq=e.html5.usingFlash,bF(),!bB&&bq&&(e._wD("SoundManager: Fatal error: Flash is needed to play some required formats, but is not available."),e.flashLoadTimeout=1),n.removeEventListener&&n.removeEventListener("DOMContentLoaded",M,!1),L(),!0)},bw=function(){return n.readyState==="complete"&&(M(),n.detachEvent("onreadystatechange",bw)),!0},N=function(){y=!0,by.remove(l,"load",N)},bC(),by.add(l,"focus",J),by.add(l,"load",J),by.add(l,"load",G),by.add(l,"load",N),bL&&bR&&by.add(l,"mousemove",J),n.addEventListener?n.addEventListener("DOMContentLoaded",M,!1):n.attachEvent?n.attachEvent("onreadystatechange",bw):(t("onload",!1),R({type:"NO_DOM2_EVENTS",fatal:!0})),n.readyState==="complete"&&setTimeout(M,100)}var b=null;if(typeof SM2_DEFER=="undefined"||!SM2_DEFER)b=new c;a.SoundManager=c,a.soundManager=b}(window);